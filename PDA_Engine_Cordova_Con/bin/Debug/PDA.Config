<?xml version="1.0" encoding="utf-8"  ?>
<Application xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
 
      xsi:schemaLocation="urn:MyData ../PDA0.02.xsd"  CopyRightMessage="تمامی حقوق برای پرویز بازگشا محفوظ می باشد نسخه 0.1 آزمایشی "  DBType="SQLSERVER" Title="سیستم حساب دفتری " Name="PShop" Theme="Flatly" ConnectionSetthing="Data Source=(LocalDB)\v11.0;AttachDbFilename='C:\Users\PMB\Documents\Visual Studio 2012\Projects\PDA_Engine_Cordova_Con\PDA_Engine_Cordova_Con\bin\Debug\aa.mdf';Integrated Security=True;Connect Timeout=30">
 <Menu >
    <Item Icon="play"  link="" Type="Link" text="عملیات" >
      <SubItem Icon="plus" Type="PDALink" link="Insert" PerKey="" text="رکورد جدید" />
     <SubItem Icon="database" Type="PDALink" link="SelectAll" PerKey="" text="همه رکورد ها" />
      <SubItem Icon="upload" Type="PDALink" link="person_mgt" PerKey="" text="ویرایش همه رکورد" />
      
    </Item>
 </Menu>
  <DataBaseTable name="person" >
    <Column Name="Id" isPrimary="Yes" DataType="INTEGER" Caption="شناسه"/>
    <Column Name="fullname"   DataType="TEXT" Caption="نام کامل"/>
    <Column Name="BrithDate"   DataType="TEXT" Caption="تاریخ تولد"/>
    <Column Name="isbad"   DataType="INTEGER" Caption="خوبه"/>
    <Column Name="IdAbout" DataType="INTEGER" Caption="کد معرف"  />
    <Column Name="cost" DataType="INTEGER" Caption="مبلغ"/>
  </DataBaseTable>
   <Pages>
       <Page name="Insert"  ColumnCount="2" DBCommand="#person,Insert" Title="رکورد جدید" link="Insert" type="ScallerForm" >
          <PageParameter type="Html" name="fullname" title="نام" source="form"   >
            <ParameterCheck Cond="Reg"/>
          </PageParameter>
           <PageParameter type="Money" name="cost" title="مبلغ" source="form"  DefaultValueSource="Static" DefaultValueParameter="0"   >
            
          </PageParameter>
       <PageParameter type="Date" name="BrithDate" title="تاریخ" source="form"    >
            <ParameterCheck Cond="Reg"/>
          </PageParameter>
         <PageParameter type="CheckBox" name="isbad" title="خوبه" source="form"    >
            <ParameterCheck Cond="Reg"/>
          </PageParameter>
         <PageParameter type="Select2Ajax"  name="IdAbout" TitleParameter="fullname" DBSelect2CommandDriectValue="?select fullname from person where Id=@Id" DBSelect2CommandDriectValueParameterName="Id" textColumn="fullname"  codeColumn="Id" title="کد معرف" source="form" DBSelect2Command="? Select * from person  " >
           <DBSelectCommandParameter source="term" name="t"/>
         </PageParameter>
       </Page>
         <Page name="Edit"  ColumnCount="2" DBCommand="#person,Update,Id,Id" ValueDbCommand="#person,SelectAll,Id,Id" queryString="/:Id" Title="رکورد جدید" link="Edit" type="ScallerForm" >
           <ValueParameter name="Id" source="QueryString" value="Id"/>
            <PageParameter type="String" name="fullname" title="نام" source="form"  Parameter="fullname"  startValueType="DbValueCommand" >
            <ParameterCheck Cond="Reg"/>
          </PageParameter>
           <PageParameter type="Money" DefaultValueSource="Static" DefaultValueParameter="0" name="cost" title="مبلغ" source="form"   Parameter="cost" startValueType="DbValueCommand"  >
             
          </PageParameter>
             <PageParameter type="Date" name="BrithDate" title="تاریخ" source="form"    >
            <ParameterCheck Cond="Reg"/>
          </PageParameter>
         <PageParameter type="CheckBox" name="isbad" title="خوبه" source="form"    >
            <ParameterCheck Cond="Reg"/>
          </PageParameter>
         <PageParameter type="Integer"    name="Id" title="-" source="QueryString" Parameter="Id" sorurceParameter="Id"      >
             
          </PageParameter>
         
       </Page>
      <Page name="SelectAll" ColumnCount="1" DBCommand="#person,SelectAll" Title="نمایش همه رکورد ها" link="SelectAll" type="TableView">
        <table > <column name="Id" type="DisplayValue" title="کد" ></column>
<column name="fullname" type="DisplayValue" title="نام کامل" ></column>        
   <column name="cost" type="Money" title="مبلغ" ></column> 
 <column name="Edit" type="PDALink" title="ویرایش" Caption="ویراش " linkSyntax="Edit/{{record.Id}}" ></column>
        <column name="Delete" type="AjaxAction" title="حذف " AskMessage="می خواهی حذف کنی " AjaxAction="Delete_act" ParameterSyntax="{{record.Id}}" Caption="حذف" ></column>
</table>
        <Button action="Backup" title="ایجاد پشتیبان"/>
        <Button action="Restore" title="انجام بازیابی"/>
      </Page>
     
     
<Page Title="تعریف"  ColumnCount="1" link="person_mgt"  name="person_mgt" id="person_mgt" DBCommand="#person,SelectAll" type="TableView" PerKey="" >
<table BasicFilter="Yes"  Insertable="Yes" RowNumberColumn="Yes" Sortable="Yes"  >
<column title="" name="Id"  type="DisplayValue" ></column><column title="" name="fullname"  type="InputString" ></column><column title="" name="cost"  type="InputMoney" ></column><column title="" name="BrithDate"  type="InputDate" ></column><column title="" name="isbad"  type="InputMoney" ></column><column title="" name="IdAbout"  type="InputString" ></column>    <column title="حذف ردیف" Caption="حذف" type="DeleteRow" ></column>
</table>
     <Button action="InsertRecordToTable" title="ردیف جدید"/><Button action="BatchCommand" actionParameter="Save" title="ذخیره"/><BatchCommand name="Save" PerKey="">   <Command DBCommand="#person,Insert" Selection="All" StateMode="Added">  <Parameter caption=""  name="fullname" sourceType="Row" sourceTypeParameter="fullname"> <Check Type="ReqString" /> </Parameter>
  <Parameter caption=""  name="cost" sourceType="Row" sourceTypeParameter="cost" DefaultValueSource="Static" DefaultValueParameter="0">  </Parameter>
  <Parameter caption=""  name="BrithDate" sourceType="Row" sourceTypeParameter="BrithDate"> <Check Type="ReqDate" /> </Parameter>
  <Parameter caption=""  name="isbad" sourceType="Row" sourceTypeParameter="isbad">  </Parameter>
  <Parameter caption=""  name="IdAbout" sourceType="Row" sourceTypeParameter="IdAbout">   </Parameter>
   </Command> 
     </BatchCommand></Page>
     
     
     
   </Pages>
<Actions>
  <action DBCommand="#person,Delete,Id,Id"  name="Delete_act" PerKey="" >
    <actionParameter name="Id" Parameter="Id" type="input"/>
  </action>
</Actions>
</Application>



